<!DOCTYPE html>
<html>
<head>
    <title>Edit Mapel</title>
</head>
<body>
    <h1>Edit Mapel: {{ mapel.nama }}</h1>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <label>Nama Mapel:</label><br>
        <input type="text" name="nama" value="{{ mapel.nama }}" required><br><br>

        <label>Kelas:</label><br>
        <select name="kelas" required>
            {% for k in kelas_list %}
                <option value="{{ k.id }}" {% if k.id == mapel.kelas.id %}selected{% endif %}>
                    {{ k.nama }}
                </option>
            {% endfor %}
        </select><br><br>

        <label>Deskripsi:</label><br>
        <textarea name="deskripsi" rows="4" cols="50">{{ mapel.deskripsi }}</textarea><br><br>

        <label>Ganti Gambar (opsional):</label><br>
        <input type="file" name="gambar"><br><br>

        {% if mapel.gambar %}
            <img src="{{ mapel.gambar.url }}" width="150"><br><br>
        {% endif %}

        <button type="submit">Simpan Perubahan</button>
    </form>

    <br>
    <a href="{% url 'dashboard_guru' %}">Kembali</a>
</body>
</html>
